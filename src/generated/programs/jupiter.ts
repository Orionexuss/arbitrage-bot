/**
 * This code was AUTOGENERATED using the Codama library.
 * Please DO NOT EDIT THIS FILE, instead use visitors
 * to add features, then rerun Codama to update it.
 *
 * @see https://github.com/codama-idl/codama
 */

import {
  containsBytes,
  fixEncoderSize,
  getBytesEncoder,
  type Address,
  type ReadonlyUint8Array,
} from '@solana/kit';
import {
  type ParsedClaimInstruction,
  type ParsedClaimTokenInstruction,
  type ParsedCloseTokenInstruction,
  type ParsedCreateTokenAccountInstruction,
  type ParsedCreateTokenLedgerInstruction,
  type ParsedExactOutRouteInstruction,
  type ParsedExactOutRouteV2Instruction,
  type ParsedRouteInstruction,
  type ParsedRouteV2Instruction,
  type ParsedRouteWithTokenLedgerInstruction,
  type ParsedSetTokenLedgerInstruction,
  type ParsedSharedAccountsExactOutRouteInstruction,
  type ParsedSharedAccountsExactOutRouteV2Instruction,
  type ParsedSharedAccountsRouteInstruction,
  type ParsedSharedAccountsRouteV2Instruction,
  type ParsedSharedAccountsRouteWithTokenLedgerInstruction,
} from '../instructions';

export const JUPITER_PROGRAM_ADDRESS =
  'JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4' as Address<'JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4'>;

export enum JupiterAccount {
  TokenLedger,
}

export function identifyJupiterAccount(
  account: { data: ReadonlyUint8Array } | ReadonlyUint8Array
): JupiterAccount {
  const data = 'data' in account ? account.data : account;
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([156, 247, 9, 188, 54, 108, 85, 77])
      ),
      0
    )
  ) {
    return JupiterAccount.TokenLedger;
  }
  throw new Error(
    'The provided account could not be identified as a jupiter account.'
  );
}

export enum JupiterInstruction {
  Claim,
  ClaimToken,
  CloseToken,
  CreateTokenLedger,
  CreateTokenAccount,
  ExactOutRoute,
  Route,
  RouteWithTokenLedger,
  SetTokenLedger,
  SharedAccountsExactOutRoute,
  SharedAccountsRoute,
  SharedAccountsRouteWithTokenLedger,
  ExactOutRouteV2,
  RouteV2,
  SharedAccountsExactOutRouteV2,
  SharedAccountsRouteV2,
}

export function identifyJupiterInstruction(
  instruction: { data: ReadonlyUint8Array } | ReadonlyUint8Array
): JupiterInstruction {
  const data = 'data' in instruction ? instruction.data : instruction;
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([62, 198, 214, 193, 213, 159, 108, 210])
      ),
      0
    )
  ) {
    return JupiterInstruction.Claim;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([116, 206, 27, 191, 166, 19, 0, 73])
      ),
      0
    )
  ) {
    return JupiterInstruction.ClaimToken;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([26, 74, 236, 151, 104, 64, 183, 249])
      ),
      0
    )
  ) {
    return JupiterInstruction.CloseToken;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([232, 242, 197, 253, 240, 143, 129, 52])
      ),
      0
    )
  ) {
    return JupiterInstruction.CreateTokenLedger;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([147, 241, 123, 100, 244, 132, 174, 118])
      ),
      0
    )
  ) {
    return JupiterInstruction.CreateTokenAccount;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([208, 51, 239, 151, 123, 43, 237, 92])
      ),
      0
    )
  ) {
    return JupiterInstruction.ExactOutRoute;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([229, 23, 203, 151, 122, 227, 173, 42])
      ),
      0
    )
  ) {
    return JupiterInstruction.Route;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([150, 86, 71, 116, 167, 93, 14, 104])
      ),
      0
    )
  ) {
    return JupiterInstruction.RouteWithTokenLedger;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([228, 85, 185, 112, 78, 79, 77, 2])
      ),
      0
    )
  ) {
    return JupiterInstruction.SetTokenLedger;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([176, 209, 105, 168, 154, 125, 69, 62])
      ),
      0
    )
  ) {
    return JupiterInstruction.SharedAccountsExactOutRoute;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([193, 32, 155, 51, 65, 214, 156, 129])
      ),
      0
    )
  ) {
    return JupiterInstruction.SharedAccountsRoute;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([230, 121, 143, 80, 119, 159, 106, 170])
      ),
      0
    )
  ) {
    return JupiterInstruction.SharedAccountsRouteWithTokenLedger;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([157, 138, 184, 82, 21, 244, 243, 36])
      ),
      0
    )
  ) {
    return JupiterInstruction.ExactOutRouteV2;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([187, 100, 250, 204, 49, 196, 175, 20])
      ),
      0
    )
  ) {
    return JupiterInstruction.RouteV2;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([53, 96, 229, 202, 216, 187, 250, 24])
      ),
      0
    )
  ) {
    return JupiterInstruction.SharedAccountsExactOutRouteV2;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([209, 152, 83, 147, 124, 254, 216, 233])
      ),
      0
    )
  ) {
    return JupiterInstruction.SharedAccountsRouteV2;
  }
  throw new Error(
    'The provided instruction could not be identified as a jupiter instruction.'
  );
}

export type ParsedJupiterInstruction<
  TProgram extends string = 'JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4',
> =
  | ({
      instructionType: JupiterInstruction.Claim;
    } & ParsedClaimInstruction<TProgram>)
  | ({
      instructionType: JupiterInstruction.ClaimToken;
    } & ParsedClaimTokenInstruction<TProgram>)
  | ({
      instructionType: JupiterInstruction.CloseToken;
    } & ParsedCloseTokenInstruction<TProgram>)
  | ({
      instructionType: JupiterInstruction.CreateTokenLedger;
    } & ParsedCreateTokenLedgerInstruction<TProgram>)
  | ({
      instructionType: JupiterInstruction.CreateTokenAccount;
    } & ParsedCreateTokenAccountInstruction<TProgram>)
  | ({
      instructionType: JupiterInstruction.ExactOutRoute;
    } & ParsedExactOutRouteInstruction<TProgram>)
  | ({
      instructionType: JupiterInstruction.Route;
    } & ParsedRouteInstruction<TProgram>)
  | ({
      instructionType: JupiterInstruction.RouteWithTokenLedger;
    } & ParsedRouteWithTokenLedgerInstruction<TProgram>)
  | ({
      instructionType: JupiterInstruction.SetTokenLedger;
    } & ParsedSetTokenLedgerInstruction<TProgram>)
  | ({
      instructionType: JupiterInstruction.SharedAccountsExactOutRoute;
    } & ParsedSharedAccountsExactOutRouteInstruction<TProgram>)
  | ({
      instructionType: JupiterInstruction.SharedAccountsRoute;
    } & ParsedSharedAccountsRouteInstruction<TProgram>)
  | ({
      instructionType: JupiterInstruction.SharedAccountsRouteWithTokenLedger;
    } & ParsedSharedAccountsRouteWithTokenLedgerInstruction<TProgram>)
  | ({
      instructionType: JupiterInstruction.ExactOutRouteV2;
    } & ParsedExactOutRouteV2Instruction<TProgram>)
  | ({
      instructionType: JupiterInstruction.RouteV2;
    } & ParsedRouteV2Instruction<TProgram>)
  | ({
      instructionType: JupiterInstruction.SharedAccountsExactOutRouteV2;
    } & ParsedSharedAccountsExactOutRouteV2Instruction<TProgram>)
  | ({
      instructionType: JupiterInstruction.SharedAccountsRouteV2;
    } & ParsedSharedAccountsRouteV2Instruction<TProgram>);
